
class solution:
    def product_except_self(nums):
        # Step 1: Get the length of the input array
        n = len(nums)
        # Step 2: Create two arrays to store prefix and suffix products
        prefix = [1] * n  # prefix[i] will contain the product of all elements to the left of index i
        suffix = [1] * n  # suffix[i] will contain the product of all elements to the right of index i
        # Step 3: Calculate prefix products
        # We start from index 1 because prefix[0] should always be 1 (no elements to the left)
        for i in range(1, n):
            prefix[i] = prefix[i - 1] * nums[i - 1]
             # Example:
            # i = 1 => prefix[1] = prefix[0] * nums[0] = 1 * 1 = 1
            # i = 2 => prefix[2] = prefix[1] * nums[1] = 1 * 2 = 2
            # i = 3 => prefix[3] = prefix[2] * nums[2] = 2 * 3 = 6
            # Step 4: Calculate suffix products
    # We start from second last index because suffix[n-1] is always 1 (no elements to the right)
            for i in range(n -2, -1, -1):
                suffix = suffix[i + 1] * nums[i + 1]
                result = prefix[i] * suffix[i]
                return result
